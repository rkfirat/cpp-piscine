<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ Ex03: Interface & Recap - Kusursuz Rehber</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .hero {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .hero h1 {
            color: white;
            font-size: 3.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
        }

        .hero .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.3em;
            margin-bottom: 20px;
        }

        .difficulty-badge {
            display: inline-block;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1em;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            margin-bottom: 30px;
        }

        .content-area {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border-left: 5px solid #667eea;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .card-title {
            color: #667eea;
            font-size: 1.6em;
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .class-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .class-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .class-name {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .class-type {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 5px 15px;
            font-size: 0.9em;
            display: inline-block;
            margin-bottom: 10px;
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid #2d3748;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .code-header {
            background: #2d3748;
            color: #a0aec0;
            padding: 8px 15px;
            border-radius: 8px 8px 0 0;
            font-size: 0.8em;
            margin: 15px 0 0 0;
            border-bottom: 1px solid #4a5568;
        }

        .code-block.with-header {
            border-radius: 0 0 10px 10px;
            margin-top: 0;
        }

        .step-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: white;
        }

        .step {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
        }

        .step-number {
            background: white;
            color: #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .step-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .file-tree {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: monospace;
            border: 1px solid #e9ecef;
        }

        .file-tree .folder {
            color: #0066cc;
            font-weight: bold;
        }

        .file-tree .file {
            color: #333;
            margin-left: 20px;
        }

        .file-tree .interface {
            color: #e74c3c;
            font-weight: bold;
        }

        .file-tree .concrete {
            color: #27ae60;
            font-weight: bold;
        }

        .implementation-flow {
            background: linear-gradient(45deg, #11998e 0%, #38ef7d 100%);
            border-radius: 15px;
            padding: 25px;
            color: white;
            margin: 20px 0;
        }

        .flow-step {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .flow-number {
            background: white;
            color: #11998e;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        .warning {
            background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #ff6b6b;
            color: #721c24;
        }

        .warning-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tip {
            background: linear-gradient(45deg, #74b9ff 0%, #0984e3 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            color: white;
        }

        .tip-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .memory-diagram {
            background: #2c3e50;
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            font-family: monospace;
        }

        .memory-block {
            background: #34495e;
            border: 2px solid #3498db;
            border-radius: 8px;
            padding: 15px;
            margin: 10px;
            text-align: center;
            display: inline-block;
            min-width: 120px;
        }

        .memory-arrow {
            color: #e74c3c;
            font-size: 1.5em;
            margin: 0 10px;
        }

        .checklist {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checkbox.checked {
            background: #667eea;
            color: white;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
        }

        .test-output {
            background: #000;
            color: #00ff00;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            border: 2px solid #333;
        }

        .interactive-demo {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 25px;
            color: white;
            text-align: center;
            margin: 20px 0;
        }

        .demo-button {
            background: white;
            color: #667eea;
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .floating-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .nav-item {
            display: block;
            padding: 10px 15px;
            color: #667eea;
            text-decoration: none;
            border-radius: 8px;
            margin: 5px 0;
            transition: all 0.2s ease;
            font-size: 0.9em;
        }

        .nav-item:hover {
            background: #667eea;
            color: white;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .floating-nav {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5em;
            }
        }

        .syntax-highlight .keyword { color: #c792ea; }
        .syntax-highlight .type { color: #ffcb6b; }
        .syntax-highlight .string { color: #c3e88d; }
        .syntax-highlight .comment { color: #546e7a; font-style: italic; }
        .syntax-highlight .function { color: #82aaff; }
    </style>
</head>
<body>
    <div class="floating-nav">
        <a href="#overview" class="nav-item">📋 Genel Bakış</a>
        <a href="#architecture" class="nav-item">🏗️ Mimari</a>
        <a href="#implementation" class="nav-item">🔨 Uygulama</a>
        <a href="#code-examples" class="nav-item">💻 Kodlar</a>
        <a href="#testing" class="nav-item">🧪 Test</a>
        <a href="#checklist" class="nav-item">✅ Kontrol</a>
    </div>

    <div class="container">
        <div class="hero">
            <h1>⚡ Exercise 03</h1>
            <div class="subtitle">Interface & Recap - Materia Sistemi</div>
            <div class="difficulty-badge">🔥 Advanced Level</div>
        </div>

        <div class="main-grid">
            <div class="content-area">
                <!-- Overview Section -->
                <div id="overview" class="card">
                    <div class="card-title">📋 Proje Genel Bakışı</div>
                    
                    <p><strong>Bu exercise'da</strong> C++'da interface benzeri yapıları pure abstract class'lar kullanarak implement edeceğiz. Materia sistemi üzerinden factory pattern, interface segregation ve polimorphism kavramlarını pekiştireceğiz.</p>

                    <div class="overview-grid">
                        <div class="class-card">
                            <div class="class-name">AMateria</div>
                            <div class="class-type">Abstract Base</div>
                            <p>Tüm materia'ların temel soyut sınıfı</p>
                        </div>
                        <div class="class-card">
                            <div class="class-name">Ice & Cure</div>
                            <div class="class-type">Concrete Classes</div>
                            <p>Belirli materia türleri</p>
                        </div>
                        <div class="class-card">
                            <div class="class-name">ICharacter</div>
                            <div class="class-type">Interface</div>
                            <p>Karakter davranışları</p>
                        </div>
                        <div class="class-card">
                            <div class="class-name">IMateriaSource</div>
                            <div class="class-type">Interface</div>
                            <p>Materia fabrika arayüzü</p>
                        </div>
                    </div>
                </div>

                <!-- Architecture Section -->
                <div id="architecture" class="card">
                    <div class="card-title">🏗️ Sistem Mimarisi</div>
                    
                    <div class="implementation-flow">
                        <h3>📐 Mimari Akış</h3>
                        <div class="flow-step">
                            <div class="flow-number">1</div>
                            <div>
                                <strong>AMateria Abstract Class</strong><br>
                                Pure virtual clone() ve virtual use() fonksiyonları
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="flow-number">2</div>
                            <div>
                                <strong>Concrete Materia Classes</strong><br>
                                Ice ve Cure sınıfları AMateria'dan türer
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="flow-number">3</div>
                            <div>
                                <strong>ICharacter Interface</strong><br>
                                Karakter operasyonları için pure virtual interface
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="flow-number">4</div>
                            <div>
                                <strong>Character Implementation</strong><br>
                                4 slotluk inventory ile ICharacter implement eder
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="flow-number">5</div>
                            <div>
                                <strong>MateriaSource Factory</strong><br>
                                Materia öğrenme ve yaratma sistemi
                            </div>
                        </div>
                    </div>

                    <div class="memory-diagram">
                        <h4>🧠 Memory Layout</h4>
                        <div style="text-align: center;">
                            <div class="memory-block">MateriaSource<br>templates[4]</div>
                            <span class="memory-arrow">→</span>
                            <div class="memory-block">Character<br>inventory[4]</div>
                            <span class="memory-arrow">→</span>
                            <div class="memory-block">AMateria*<br>instances</div>
                        </div>
                    </div>
                </div>

                <!-- Implementation Section -->
                <div id="implementation" class="step-container">
                    <h2>🔨 Detaylı Implementasyon Rehberi</h2>
                    
                    <div class="step">
                        <div class="step-title">
                            <span class="step-number">1</span>
                            AMateria Abstract Base Class
                        </div>
                        <p><strong>Özellikler:</strong></p>
                        <ul>
                            <li>Protected string type attribute</li>
                            <li>Constructor type parametresi alır</li>
                            <li>Pure virtual clone() fonksiyonu</li>
                            <li>Virtual use() fonksiyonu (boş implementasyon)</li>
                            <li>getType() const fonksiyonu</li>
                        </ul>
                    </div>

                    <div class="step">
                        <div class="step-title">
                            <span class="step-number">2</span>
                            Ice ve Cure Concrete Classes
                        </div>
                        <p><strong>Gereksinimler:</strong></p>
                        <ul>
                            <li>AMateria'dan kalıtım</li>
                            <li>Constructor'da type'ı "ice"/"cure" olarak set et</li>
                            <li>clone() override - kendi türünden yeni instance döner</li>
                            <li>use() override - özel mesajlar yazdırır</li>
                        </ul>
                    </div>

                    <div class="step">
                        <div class="step-title">
                            <span class="step-number">3</span>
                            ICharacter Interface Design
                        </div>
                        <p><strong>Interface Metotları:</strong></p>
                        <ul>
                            <li>virtual ~ICharacter() {} - Virtual destructor</li>
                            <li>getName() const - Pure virtual</li>
                            <li>equip(AMateria* m) - Pure virtual</li>
                            <li>unequip(int idx) - Pure virtual</li>
                            <li>use(int idx, ICharacter& target) - Pure virtual</li>
                        </ul>
                    </div>

                    <div class="step">
                        <div class="step-title">
                            <span class="step-number">4</span>
                            Character Class Implementation
                        </div>
                        <p><strong>Kritik Noktalar:</strong></p>
                        <ul>
                            <li>AMateria* inventory[4] - 4 slotluk inventory</li>
                            <li>Constructor name parametresi alır</li>
                            <li>Deep copy constructor ve assignment operator</li>
                            <li>equip() - İlk boş slot'a ekler</li>
                            <li>unequip() - Pointer'ı NULL yapar ama delete etmez!</li>
                            <li>use() - Slot'taki materia'nın use() metodunu çağırır</li>
                        </ul>
                    </div>

                    <div class="step">
                        <div class="step-title">
                            <span class="step-number">5</span>
                            MateriaSource Factory Implementation
                        </div>
                        <p><strong>Factory Pattern:</strong></p>
                        <ul>
                            <li>AMateria* templates[4] - Öğrenilen materia şablonları</li>
                            <li>learnMateria() - Materia'yı clone'layıp saklar</li>
                            <li>createMateria() - Type'a göre yeni instance yaratır</li>
                            <li>Type eşleşmezse NULL döner</li>
                        </ul>
                    </div>
                </div>

                <!-- Code Examples Section -->
                <div id="code-examples" class="card">
                    <div class="card-title">💻 Detaylı Kod Örnekleri</div>

                    <div class="code-header">AMateria.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> AMATERIA_HPP
<span class="keyword">#define</span> AMATERIA_HPP

<span class="keyword">#include</span> <span class="string">&lt;string&gt;</span>
<span class="keyword">#include</span> <span class="string">&lt;iostream&gt;</span>

<span class="keyword">class</span> <span class="type">ICharacter</span>; <span class="comment">// Forward declaration</span>

<span class="keyword">class</span> <span class="type">AMateria</span>
{
<span class="keyword">protected</span>:
    <span class="type">std::string</span> type;

<span class="keyword">public</span>:
    <span class="function">AMateria</span>(<span class="type">std::string</span> <span class="keyword">const</span> & type);
    <span class="function">AMateria</span>(<span class="type">AMateria</span> <span class="keyword">const</span> & other);
    <span class="type">AMateria</span> & <span class="function">operator=</span>(<span class="type">AMateria</span> <span class="keyword">const</span> & other);
    <span class="keyword">virtual</span> <span class="function">~AMateria</span>();

    <span class="type">std::string</span> <span class="keyword">const</span> & <span class="function">getType</span>() <span class="keyword">const</span>;
    
    <span class="keyword">virtual</span> <span class="type">AMateria</span>* <span class="function">clone</span>() <span class="keyword">const</span> = <span class="keyword">0</span>; <span class="comment">// Pure virtual</span>
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">use</span>(<span class="type">ICharacter</span>& target);
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">AMateria.cpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#include</span> <span class="string">"AMateria.hpp"</span>
<span class="keyword">#include</span> <span class="string">"ICharacter.hpp"</span>

<span class="type">AMateria</span>::<span class="function">AMateria</span>(<span class="type">std::string</span> <span class="keyword">const</span> & type) : type(type)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"AMateria "</span> &lt;&lt; <span class="keyword">this</span>-&gt;type &lt;&lt; <span class="string">" created"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">AMateria</span>::<span class="function">AMateria</span>(<span class="type">AMateria</span> <span class="keyword">const</span> & other) : type(other.type)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"AMateria "</span> &lt;&lt; <span class="keyword">this</span>-&gt;type &lt;&lt; <span class="string">" copied"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">AMateria</span> & <span class="type">AMateria</span>::<span class="function">operator=</span>(<span class="type">AMateria</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">if</span> (<span class="keyword">this</span> != &other)
    {
        <span class="comment">// Type'ı kopyalamıyoruz - bu önemli!</span>
        <span class="comment">// this->type = other.type; // YAPMA!</span>
    }
    <span class="keyword">return</span> *<span class="keyword">this</span>;
}

<span class="type">AMateria</span>::<span class="function">~AMateria</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"AMateria "</span> &lt;&lt; <span class="keyword">this</span>-&gt;type &lt;&lt; <span class="string">" destroyed"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">std::string</span> <span class="keyword">const</span> & <span class="type">AMateria</span>::<span class="function">getType</span>() <span class="keyword">const</span>
{
    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;type;
}

<span class="keyword">void</span> <span class="type">AMateria</span>::<span class="function">use</span>(<span class="type">ICharacter</span>& target)
{
    <span class="comment">// Default implementation - boş</span>
}</div>

                    <div class="code-header">Ice.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> ICE_HPP
<span class="keyword">#define</span> ICE_HPP

<span class="keyword">#include</span> <span class="string">"AMateria.hpp"</span>

<span class="keyword">class</span> <span class="type">Ice</span> : <span class="keyword">public</span> <span class="type">AMateria</span>
{
<span class="keyword">public</span>:
    <span class="function">Ice</span>();
    <span class="function">Ice</span>(<span class="type">Ice</span> <span class="keyword">const</span> & other);
    <span class="type">Ice</span> & <span class="function">operator=</span>(<span class="type">Ice</span> <span class="keyword">const</span> & other);
    <span class="keyword">virtual</span> <span class="function">~Ice</span>();

    <span class="keyword">virtual</span> <span class="type">AMateria</span>* <span class="function">clone</span>() <span class="keyword">const</span>;
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">use</span>(<span class="type">ICharacter</span>& target);
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">Ice.cpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#include</span> <span class="string">"Ice.hpp"</span>
<span class="keyword">#include</span> <span class="string">"ICharacter.hpp"</span>

<span class="type">Ice</span>::<span class="function">Ice</span>() : <span class="type">AMateria</span>(<span class="string">"ice"</span>)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Ice materia created"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">Ice</span>::<span class="function">Ice</span>(<span class="type">Ice</span> <span class="keyword">const</span> & other) : <span class="type">AMateria</span>(other)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Ice materia copied"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">Ice</span> & <span class="type">Ice</span>::<span class="function">operator=</span>(<span class="type">Ice</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">if</span> (<span class="keyword">this</span> != &other)
        <span class="type">AMateria</span>::<span class="function">operator=</span>(other);
    <span class="keyword">return</span> *<span class="keyword">this</span>;
}

<span class="type">Ice</span>::<span class="function">~Ice</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Ice materia destroyed"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">AMateria</span>* <span class="type">Ice</span>::<span class="function">clone</span>() <span class="keyword">const</span>
{
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">Ice</span>(*<span class="keyword">this</span>);
}

<span class="keyword">void</span> <span class="type">Ice</span>::<span class="function">use</span>(<span class="type">ICharacter</span>& target)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"* shoots an ice bolt at "</span> &lt;&lt; target.<span class="function">getName</span>() &lt;&lt; <span class="string">" *"</span> &lt;&lt; <span class="type">std::endl</span>;
}</div>

                    <div class="code-header">Cure.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> CURE_HPP
<span class="keyword">#define</span> CURE_HPP

<span class="keyword">#include</span> <span class="string">"AMateria.hpp"</span>

<span class="keyword">class</span> <span class="type">Cure</span> : <span class="keyword">public</span> <span class="type">AMateria</span>
{
<span class="keyword">public</span>:
    <span class="function">Cure</span>();
    <span class="function">Cure</span>(<span class="type">Cure</span> <span class="keyword">const</span> & other);
    <span class="type">Cure</span> & <span class="function">operator=</span>(<span class="type">Cure</span> <span class="keyword">const</span> & other);
    <span class="keyword">virtual</span> <span class="function">~Cure</span>();

    <span class="keyword">virtual</span> <span class="type">AMateria</span>* <span class="function">clone</span>() <span class="keyword">const</span>;
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">use</span>(<span class="type">ICharacter</span>& target);
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">Cure.cpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#include</span> <span class="string">"Cure.hpp"</span>
<span class="keyword">#include</span> <span class="string">"ICharacter.hpp"</span>

<span class="type">Cure</span>::<span class="function">Cure</span>() : <span class="type">AMateria</span>(<span class="string">"cure"</span>)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Cure materia created"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">Cure</span>::<span class="function">Cure</span>(<span class="type">Cure</span> <span class="keyword">const</span> & other) : <span class="type">AMateria</span>(other)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Cure materia copied"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">Cure</span> & <span class="type">Cure</span>::<span class="function">operator=</span>(<span class="type">Cure</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">if</span> (<span class="keyword">this</span> != &other)
        <span class="type">AMateria</span>::<span class="function">operator=</span>(other);
    <span class="keyword">return</span> *<span class="keyword">this</span>;
}

<span class="type">Cure</span>::<span class="function">~Cure</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Cure materia destroyed"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">AMateria</span>* <span class="type">Cure</span>::<span class="function">clone</span>() <span class="keyword">const</span>
{
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">Cure</span>(*<span class="keyword">this</span>);
}

<span class="keyword">void</span> <span class="type">Cure</span>::<span class="function">use</span>(<span class="type">ICharacter</span>& target)
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"* heals "</span> &lt;&lt; target.<span class="function">getName</span>() &lt;&lt; <span class="string">"'s wounds *"</span> &lt;&lt; <span class="type">std::endl</span>;
}</div>

                    <div class="code-header">ICharacter.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> ICHARACTER_HPP
<span class="keyword">#define</span> ICHARACTER_HPP

<span class="keyword">#include</span> <span class="string">&lt;string&gt;</span>

<span class="keyword">class</span> <span class="type">AMateria</span>; <span class="comment">// Forward declaration</span>

<span class="keyword">class</span> <span class="type">ICharacter</span>
{
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="function">~ICharacter</span>() {}
    <span class="keyword">virtual</span> <span class="type">std::string</span> <span class="keyword">const</span> & <span class="function">getName</span>() <span class="keyword">const</span> = <span class="keyword">0</span>;
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">equip</span>(<span class="type">AMateria</span>* m) = <span class="keyword">0</span>;
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">unequip</span>(<span class="type">int</span> idx) = <span class="keyword">0</span>;
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">use</span>(<span class="type">int</span> idx, <span class="type">ICharacter</span>& target) = <span class="keyword">0</span>;
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">Character.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> CHARACTER_HPP
<span class="keyword">#define</span> CHARACTER_HPP

<span class="keyword">#include</span> <span class="string">"ICharacter.hpp"</span>
<span class="keyword">#include</span> <span class="string">"AMateria.hpp"</span>

<span class="keyword">class</span> <span class="type">Character</span> : <span class="keyword">public</span> <span class="type">ICharacter</span>
{
<span class="keyword">private</span>:
    <span class="type">std::string</span> name;
    <span class="type">AMateria</span>* inventory[<span class="keyword">4</span>];
    
    <span class="keyword">void</span> <span class="function">_copyInventory</span>(<span class="type">Character</span> <span class="keyword">const</span> & other);
    <span class="keyword">void</span> <span class="function">_clearInventory</span>();

<span class="keyword">public</span>:
    <span class="function">Character</span>(<span class="type">std::string</span> <span class="keyword">const</span> & name);
    <span class="function">Character</span>(<span class="type">Character</span> <span class="keyword">const</span> & other);
    <span class="type">Character</span> & <span class="function">operator=</span>(<span class="type">Character</span> <span class="keyword">const</span> & other);
    <span class="keyword">virtual</span> <span class="function">~Character</span>();

    <span class="keyword">virtual</span> <span class="type">std::string</span> <span class="keyword">const</span> & <span class="function">getName</span>() <span class="keyword">const</span>;
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">equip</span>(<span class="type">AMateria</span>* m);
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">unequip</span>(<span class="type">int</span> idx);
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">use</span>(<span class="type">int</span> idx, <span class="type">ICharacter</span>& target);
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">Character.cpp - KRITIK!</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#include</span> <span class="string">"Character.hpp"</span>
<span class="keyword">#include</span> <span class="string">&lt;iostream&gt;</span>

<span class="type">Character</span>::<span class="function">Character</span>(<span class="type">std::string</span> <span class="keyword">const</span> & name) : name(name)
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
        inventory[i] = <span class="keyword">NULL</span>;
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Character "</span> &lt;&lt; name &lt;&lt; <span class="string">" created"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">Character</span>::<span class="function">Character</span>(<span class="type">Character</span> <span class="keyword">const</span> & other) : name(other.name)
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
        inventory[i] = <span class="keyword">NULL</span>;
    <span class="function">_copyInventory</span>(other);
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Character "</span> &lt;&lt; name &lt;&lt; <span class="string">" copied"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">Character</span> & <span class="type">Character</span>::<span class="function">operator=</span>(<span class="type">Character</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">if</span> (<span class="keyword">this</span> != &other)
    {
        name = other.name;
        <span class="function">_clearInventory</span>(); <span class="comment">// Önce mevcut inventory'yi temizle!</span>
        <span class="function">_copyInventory</span>(other);
    }
    <span class="keyword">return</span> *<span class="keyword">this</span>;
}

<span class="type">Character</span>::<span class="function">~Character</span>()
{
    <span class="function">_clearInventory</span>();
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Character "</span> &lt;&lt; name &lt;&lt; <span class="string">" destroyed"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="keyword">void</span> <span class="type">Character</span>::<span class="function">_copyInventory</span>(<span class="type">Character</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (other.inventory[i])
            inventory[i] = other.inventory[i]-&gt;<span class="function">clone</span>(); <span class="comment">// Deep copy!</span>
        <span class="keyword">else</span>
            inventory[i] = <span class="keyword">NULL</span>;
    }
}

<span class="keyword">void</span> <span class="type">Character</span>::<span class="function">_clearInventory</span>()
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (inventory[i])
        {
            <span class="keyword">delete</span> inventory[i];
            inventory[i] = <span class="keyword">NULL</span>;
        }
    }
}

<span class="type">std::string</span> <span class="keyword">const</span> & <span class="type">Character</span>::<span class="function">getName</span>() <span class="keyword">const</span>
{
    <span class="keyword">return</span> name;
}

<span class="keyword">void</span> <span class="type">Character</span>::<span class="function">equip</span>(<span class="type">AMateria</span>* m)
{
    <span class="keyword">if</span> (!m)
        <span class="keyword">return</span>;
    
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (!inventory[i])
        {
            inventory[i] = m;
            <span class="type">std::cout</span> &lt;&lt; name &lt;&lt; <span class="string">" equipped "</span> &lt;&lt; m-&gt;<span class="function">getType</span>() &lt;&lt; <span class="string">" in slot "</span> &lt;&lt; i &lt;&lt; <span class="type">std::endl</span>;
            <span class="keyword">return</span>;
        }
    }
    <span class="type">std::cout</span> &lt;&lt; name &lt;&lt; <span class="string">"'s inventory is full!"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="keyword">void</span> <span class="type">Character</span>::<span class="function">unequip</span>(<span class="type">int</span> idx)
{
    <span class="keyword">if</span> (idx &lt; <span class="keyword">0</span> || idx &gt;= <span class="keyword">4</span> || !inventory[idx])
        <span class="keyword">return</span>;
    
    <span class="type">std::cout</span> &lt;&lt; name &lt;&lt; <span class="string">" unequipped "</span> &lt;&lt; inventory[idx]-&gt;<span class="function">getType</span>() &lt;&lt; <span class="string">" from slot "</span> &lt;&lt; idx &lt;&lt; <span class="type">std::endl</span>;
    inventory[idx] = <span class="keyword">NULL</span>; <span class="comment">// DELETE YAPMA! Sadece NULL yap!</span>
}

<span class="keyword">void</span> <span class="type">Character</span>::<span class="function">use</span>(<span class="type">int</span> idx, <span class="type">ICharacter</span>& target)
{
    <span class="keyword">if</span> (idx &lt; <span class="keyword">0</span> || idx &gt;= <span class="keyword">4</span> || !inventory[idx])
        <span class="keyword">return</span>;
    
    inventory[idx]-&gt;<span class="function">use</span>(target);
}</div>

                    <div class="warning">
                        <div class="warning-title">⚠️ SUPER CRITICAL - Character unequip() Fonksiyonu</div>
                        <p><strong>ÖNEMLİ:</strong> unequip() fonksiyonunda materia'yı DELETE ETME! Sadece pointer'ı NULL yap. Delete işlemini manuel olarak sen yapmalısın, yoksa memory leak olur ama bu kasıtlı bir tasarım!</p>
                    </div>

                    <div class="code-header">IMateriaSource.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> IMATERIASOURCE_HPP
<span class="keyword">#define</span> IMATERIASOURCE_HPP

<span class="keyword">#include</span> <span class="string">&lt;string&gt;</span>

<span class="keyword">class</span> <span class="type">AMateria</span>; <span class="comment">// Forward declaration</span>

<span class="keyword">class</span> <span class="type">IMateriaSource</span>
{
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="function">~IMateriaSource</span>() {}
    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">learnMateria</span>(<span class="type">AMateria</span>*) = <span class="keyword">0</span>;
    <span class="keyword">virtual</span> <span class="type">AMateria</span>* <span class="function">createMateria</span>(<span class="type">std::string</span> <span class="keyword">const</span> & type) = <span class="keyword">0</span>;
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">MateriaSource.hpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#ifndef</span> MATERIASOURCE_HPP
<span class="keyword">#define</span> MATERIASOURCE_HPP

<span class="keyword">#include</span> <span class="string">"IMateriaSource.hpp"</span>
<span class="keyword">#include</span> <span class="string">"AMateria.hpp"</span>

<span class="keyword">class</span> <span class="type">MateriaSource</span> : <span class="keyword">public</span> <span class="type">IMateriaSource</span>
{
<span class="keyword">private</span>:
    <span class="type">AMateria</span>* templates[<span class="keyword">4</span>];
    
    <span class="keyword">void</span> <span class="function">_clearTemplates</span>();
    <span class="keyword">void</span> <span class="function">_copyTemplates</span>(<span class="type">MateriaSource</span> <span class="keyword">const</span> & other);

<span class="keyword">public</span>:
    <span class="function">MateriaSource</span>();
    <span class="function">MateriaSource</span>(<span class="type">MateriaSource</span> <span class="keyword">const</span> & other);
    <span class="type">MateriaSource</span> & <span class="function">operator=</span>(<span class="type">MateriaSource</span> <span class="keyword">const</span> & other);
    <span class="keyword">virtual</span> <span class="function">~MateriaSource</span>();

    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="function">learnMateria</span>(<span class="type">AMateria</span>* m);
    <span class="keyword">virtual</span> <span class="type">AMateria</span>* <span class="function">createMateria</span>(<span class="type">std::string</span> <span class="keyword">const</span> & type);
};

<span class="keyword">#endif</span></div>

                    <div class="code-header">MateriaSource.cpp</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#include</span> <span class="string">"MateriaSource.hpp"</span>
<span class="keyword">#include</span> <span class="string">&lt;iostream&gt;</span>

<span class="type">MateriaSource</span>::<span class="function">MateriaSource</span>()
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
        templates[i] = <span class="keyword">NULL</span>;
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource created"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">MateriaSource</span>::<span class="function">MateriaSource</span>(<span class="type">MateriaSource</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
        templates[i] = <span class="keyword">NULL</span>;
    <span class="function">_copyTemplates</span>(other);
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource copied"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">MateriaSource</span> & <span class="type">MateriaSource</span>::<span class="function">operator=</span>(<span class="type">MateriaSource</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">if</span> (<span class="keyword">this</span> != &other)
    {
        <span class="function">_clearTemplates</span>();
        <span class="function">_copyTemplates</span>(other);
    }
    <span class="keyword">return</span> *<span class="keyword">this</span>;
}

<span class="type">MateriaSource</span>::<span class="function">~MateriaSource</span>()
{
    <span class="function">_clearTemplates</span>();
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource destroyed"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="keyword">void</span> <span class="type">MateriaSource</span>::<span class="function">_clearTemplates</span>()
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (templates[i])
        {
            <span class="keyword">delete</span> templates[i];
            templates[i] = <span class="keyword">NULL</span>;
        }
    }
}

<span class="keyword">void</span> <span class="type">MateriaSource</span>::<span class="function">_copyTemplates</span>(<span class="type">MateriaSource</span> <span class="keyword">const</span> & other)
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (other.templates[i])
            templates[i] = other.templates[i]-&gt;<span class="function">clone</span>(); <span class="comment">// Deep copy!</span>
        <span class="keyword">else</span>
            templates[i] = <span class="keyword">NULL</span>;
    }
}

<span class="keyword">void</span> <span class="type">MateriaSource</span>::<span class="function">learnMateria</span>(<span class="type">AMateria</span>* m)
{
    <span class="keyword">if</span> (!m)
        <span class="keyword">return</span>;
    
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (!templates[i])
        {
            templates[i] = m-&gt;<span class="function">clone</span>(); <span class="comment">// Clone'la ve sakla!</span>
            <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource learned "</span> &lt;&lt; m-&gt;<span class="function">getType</span>() &lt;&lt; <span class="type">std::endl</span>;
            <span class="keyword">return</span>;
        }
    }
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource is full, cannot learn more materias!"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="type">AMateria</span>* <span class="type">MateriaSource</span>::<span class="function">createMateria</span>(<span class="type">std::string</span> <span class="keyword">const</span> & type)
{
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="keyword">0</span>; i &lt; <span class="keyword">4</span>; i++)
    {
        <span class="keyword">if</span> (templates[i] && templates[i]-&gt;<span class="function">getType</span>() == type)
        {
            <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource created "</span> &lt;&lt; type &lt;&lt; <span class="string">" materia"</span> &lt;&lt; <span class="type">std::endl</span>;
            <span class="keyword">return</span> templates[i]-&gt;<span class="function">clone</span>(); <span class="comment">// Factory pattern!</span>
        }
    }
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"MateriaSource doesn't know "</span> &lt;&lt; type &lt;&lt; <span class="string">" materia type"</span> &lt;&lt; <span class="type">std::endl</span>;
    <span class="keyword">return</span> <span class="keyword">NULL</span>; <span class="comment">// C++98'de nullptr yok!</span>
}</div>

                    <div class="code-header">main.cpp - Kapsamlı Test</div>
                    <div class="code-block with-header syntax-highlight">
<span class="keyword">#include</span> <span class="string">"AMateria.hpp"</span>
<span class="keyword">#include</span> <span class="string">"Ice.hpp"</span>
<span class="keyword">#include</span> <span class="string">"Cure.hpp"</span>
<span class="keyword">#include</span> <span class="string">"ICharacter.hpp"</span>
<span class="keyword">#include</span> <span class="string">"Character.hpp"</span>
<span class="keyword">#include</span> <span class="string">"IMateriaSource.hpp"</span>
<span class="keyword">#include</span> <span class="string">"MateriaSource.hpp"</span>
<span class="keyword">#include</span> <span class="string">&lt;iostream&gt;</span>

<span class="keyword">void</span> <span class="function">testBasicFunctionality</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\n=== BASIC FUNCTIONALITY TEST ===\n"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="comment">// Subject test case</span>
    <span class="type">IMateriaSource</span>* src = <span class="keyword">new</span> <span class="type">MateriaSource</span>();
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Cure</span>());

    <span class="type">ICharacter</span>* me = <span class="keyword">new</span> <span class="type">Character</span>(<span class="string">"me"</span>);

    <span class="type">AMateria</span>* tmp;
    tmp = src-&gt;<span class="function">createMateria</span>(<span class="string">"ice"</span>);
    me-&gt;<span class="function">equip</span>(tmp);
    tmp = src-&gt;<span class="function">createMateria</span>(<span class="string">"cure"</span>);
    me-&gt;<span class="function">equip</span>(tmp);

    <span class="type">ICharacter</span>* bob = <span class="keyword">new</span> <span class="type">Character</span>(<span class="string">"bob"</span>);

    me-&gt;<span class="function">use</span>(<span class="keyword">0</span>, *bob);
    me-&gt;<span class="function">use</span>(<span class="keyword">1</span>, *bob);

    <span class="keyword">delete</span> bob;
    <span class="keyword">delete</span> me;
    <span class="keyword">delete</span> src;
}

<span class="keyword">void</span> <span class="function">testDeepCopy</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\n=== DEEP COPY TEST ===\n"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="type">Character</span>* original = <span class="keyword">new</span> <span class="type">Character</span>(<span class="string">"original"</span>);
    original-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    original-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Cure</span>());
    
    <span class="comment">// Copy constructor test</span>
    <span class="type">Character</span>* copy1 = <span class="keyword">new</span> <span class="type">Character</span>(*original);
    
    <span class="comment">// Assignment operator test</span>
    <span class="type">Character</span>* copy2 = <span class="keyword">new</span> <span class="type">Character</span>(<span class="string">"copy2"</span>);
    *copy2 = *original;
    
    <span class="type">Character</span> testTarget(<span class="string">"target"</span>);
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nUsing original:"</span> &lt;&lt; <span class="type">std::endl</span>;
    original-&gt;<span class="function">use</span>(<span class="keyword">0</span>, testTarget);
    original-&gt;<span class="function">use</span>(<span class="keyword">1</span>, testTarget);
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nUsing copy1:"</span> &lt;&lt; <span class="type">std::endl</span>;
    copy1-&gt;<span class="function">use</span>(<span class="keyword">0</span>, testTarget);
    copy1-&gt;<span class="function">use</span>(<span class="keyword">1</span>, testTarget);
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nUsing copy2:"</span> &lt;&lt; <span class="type">std::endl</span>;
    copy2-&gt;<span class="function">use</span>(<span class="keyword">0</span>, testTarget);
    copy2-&gt;<span class="function">use</span>(<span class="keyword">1</span>, testTarget);
    
    <span class="keyword">delete</span> original;
    <span class="keyword">delete</span> copy1;
    <span class="keyword">delete</span> copy2;
}

<span class="keyword">void</span> <span class="function">testUnequipMemoryManagement</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\n=== UNEQUIP MEMORY MANAGEMENT TEST ===\n"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="type">Character</span>* hero = <span class="keyword">new</span> <span class="type">Character</span>(<span class="string">"hero"</span>);
    
    <span class="comment">// Save materialar için array (floor simulation)</span>
    <span class="type">AMateria</span>* floor[<span class="keyword">10</span>];
    <span class="type">int</span> floorCount = <span class="keyword">0</span>;
    
    <span class="comment">// Equip some materias</span>
    hero-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    hero-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Cure</span>());
    hero-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    
    <span class="type">Character</span> target(<span class="string">"target"</span>);
    hero-&gt;<span class="function">use</span>(<span class="keyword">0</span>, target);
    hero-&gt;<span class="function">use</span>(<span class="keyword">1</span>, target);
    hero-&gt;<span class="function">use</span>(<span class="keyword">2</span>, target);
    
    <span class="comment">// Unequip test - DIKKATLI MEMORY MANAGEMENT GEREKLI!</span>
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nUnequipping materias (they fall on the floor):"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="comment">// Bu implementasyon floor management göstermek için</span>
    <span class="comment">// Gerçek implementasyonda siz nasıl istiyorsanız yapabilirsiniz</span>
    
    hero-&gt;<span class="function">unequip</span>(<span class="keyword">0</span>); <span class="comment">// Materia floor'a düşer (memory leak!)</span>
    hero-&gt;<span class="function">unequip</span>(<span class="keyword">1</span>); <span class="comment">// Bu da floor'a düşer</span>
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nHero trying to use unequipped materias:"</span> &lt;&lt; <span class="type">std::endl</span>;
    hero-&gt;<span class="function">use</span>(<span class="keyword">0</span>, target); <span class="comment">// Hiçbir şey olmamalı</span>
    hero-&gt;<span class="function">use</span>(<span class="keyword">1</span>, target); <span class="comment">// Hiçbir şey olmamalı</span>
    hero-&gt;<span class="function">use</span>(<span class="keyword">2</span>, target); <span class="comment">// Bu çalışmalı</span>
    
    <span class="keyword">delete</span> hero;
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nWARNING: In real implementation, you need to handle unequipped materias!"</span> &lt;&lt; <span class="type">std::endl</span>;
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"They are not automatically deleted!"</span> &lt;&lt; <span class="type">std::endl</span>;
}

<span class="keyword">void</span> <span class="function">testEdgeCases</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\n=== EDGE CASES TEST ===\n"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="type">MateriaSource</span>* src = <span class="keyword">new</span> <span class="type">MateriaSource</span>();
    <span class="type">Character</span>* char1 = <span class="keyword">new</span> <span class="type">Character</span>(<span class="string">"char1"</span>);
    
    <span class="comment">// Test unknown materia creation</span>
    <span class="type">AMateria</span>* unknown = src-&gt;<span class="function">createMateria</span>(<span class="string">"unknown"</span>);
    <span class="keyword">if</span> (!unknown)
        <span class="type">std::cout</span> &lt;&lt; <span class="string">"✓ Unknown materia correctly returned NULL"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="comment">// Test equipping NULL</span>
    char1-&gt;<span class="function">equip</span>(unknown); <span class="comment">// Should handle NULL gracefully</span>
    
    <span class="comment">// Test full inventory</span>
    char1-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    char1-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Cure</span>());
    char1-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    char1-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Cure</span>());
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nTrying to equip to full inventory:"</span> &lt;&lt; <span class="type">std::endl</span>;
    char1-&gt;<span class="function">equip</span>(<span class="keyword">new</span> <span class="type">Ice</span>()); <span class="comment">// Should fail - memory leak in this example!</span>
    
    <span class="comment">// Test invalid use/unequip indices</span>
    <span class="type">Character</span> target(<span class="string">"target"</span>);
    char1-&gt;<span class="function">use</span>(-<span class="keyword">1</span>, target); <span class="comment">// Should do nothing</span>
    char1-&gt;<span class="function">use</span>(<span class="keyword">5</span>, target);  <span class="comment">// Should do nothing</span>
    char1-&gt;<span class="function">unequip</span>(-<span class="keyword">1</span>);     <span class="comment">// Should do nothing</span>
    char1-&gt;<span class="function">unequip</span>(<span class="keyword">5</span>);      <span class="comment">// Should do nothing</span>
    
    <span class="comment">// Test full MateriaSource</span>
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Cure</span>());
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Ice</span>());
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Cure</span>());
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\nTrying to learn to full MateriaSource:"</span> &lt;&lt; <span class="type">std::endl</span>;
    src-&gt;<span class="function">learnMateria</span>(<span class="keyword">new</span> <span class="type">Ice</span>()); <span class="comment">// Should fail - memory leak in this example!</span>
    
    <span class="keyword">delete</span> char1;
    <span class="keyword">delete</span> src;
}

<span class="type">int</span> <span class="function">main</span>()
{
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"=== C++ MODULE 04 - EXERCISE 03 COMPLETE TEST ===\n"</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="function">testBasicFunctionality</span>();
    <span class="function">testDeepCopy</span>();
    <span class="function">testUnequipMemoryManagement</span>();
    <span class="function">testEdgeCases</span>();
    
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"\n=== ALL TESTS COMPLETED ===\n"</span> &lt;&lt; <span class="type">std::endl</span>;
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"Note: Some memory leaks in edge cases are intentional for demonstration."</span> &lt;&lt; <span class="type">std::endl</span>;
    <span class="type">std::cout</span> &lt;&lt; <span class="string">"In a real implementation, you should handle these cases properly."</span> &lt;&lt; <span class="type">std::endl</span>;
    
    <span class="keyword">return</span> <span class="keyword">0</span>;
}</div>
                </div>

                <!-- Testing Section -->
                <div id="testing" class="card">
                    <div class="card-title">🧪 Test ve Doğrulama</div>
                    
                    <div class="test-output">$ c++ -Wall -Wextra -Werror -std=c++98 *.cpp -o materia_test
$ ./materia_test

=== BASIC FUNCTIONALITY TEST ===

MateriaSource created
AMateria ice created
Ice materia created
MateriaSource learned ice
AMateria cure created  
Cure materia created
MateriaSource learned cure
Character me created
MateriaSource created ice materia
AMateria ice created
Ice materia copied
me equipped ice in slot 0
MateriaSource created cure materia  
AMateria cure created
Cure materia copied
me equipped cure in slot 1
Character bob created
* shoots an ice bolt at bob *
* heals bob's wounds *</div>

                    <div class="tip">
                        <div class="tip-title">💡 Test İpuçları</div>
                        <p><strong>Valgrind Kullan:</strong> <code>valgrind --leak-check=full ./materia_test</code><br>
                        <strong>Memory Management:</strong> unequip() sonrası materia'lar için ayrı cleanup sistemi kur<br>
                        <strong>Edge Cases:</strong> NULL pointer'lar, invalid index'ler, full inventory durumları<br>
                        <strong>Deep Copy:</strong> Copyalanan materia'ların ayrı memory adreslerinde olduğunu kontrol et</p>
                    </div>

                    <div class="interactive-demo">
                        <h3>🎮 Interactive Demo</h3>
                        <p>Aşağıdaki butonlar ile farklı test senaryolarını çalıştırabilirsin!</p>
                        <button class="demo-button" onclick="runDemo('basic')">Basic Test</button>
                        <button class="demo-button" onclick="runDemo('memory')">Memory Test</button>
                        <button class="demo-button" onclick="runDemo('edge')">Edge Cases</button>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <!-- File Structure -->
                <div class="card">
                    <div class="card-title">📁 Dosya Yapısı</div>
                    <div class="file-tree">
                        <div class="folder">ex03/</div>
                        <div class="file interface">├── AMateria.hpp</div>
                        <div class="file concrete">├── AMateria.cpp</div>
                        <div class="file concrete">├── Ice.hpp</div>
                        <div class="file concrete">├── Ice.cpp</div>
                        <div class="file concrete">├── Cure.hpp</div>
                        <div class="file concrete">├── Cure.cpp</div>
                        <div class="file interface">├── ICharacter.hpp</div>
                        <div class="file concrete">├── Character.hpp</div>
                        <div class="file concrete">├── Character.cpp</div>
                        <div class="file interface">├── IMateriaSource.hpp</div>
                        <div class="file concrete">├── MateriaSource.hpp</div>
                        <div class="file concrete">├── MateriaSource.cpp</div>
                        <div class="file">├── main.cpp</div>
                        <div class="file">└── Makefile</div>
                    </div>
                </div>

                <!-- Progress Tracker -->
                <div class="card">
                    <div class="card-title">📊 İlerleme Takibi</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress"></div>
                    </div>
                    <p id="progress-text">0% Tamamlandı</p>
                </div>

                <!-- Key Warnings -->
                <div class="warning">
                    <div class="warning-title">🚨 Kritik Hatalar</div>
                    <p><strong>Virtual Destructor:</strong> AMateria'da virtual destructor şart!<br>
                    <strong>unequip() Memory:</strong> DELETE YAPMA! Sadece NULL ata<br>
                    <strong>Assignment Operator:</strong> Type'ı kopyalama!<br>
                    <strong>Deep Copy:</strong> clone() kullan, shallow copy yapma<br>
                    <strong>NULL Check:</strong> Her pointer dereference'den önce kontrol et</p>
                </div>

                <!-- Tips -->
                <div class="tip">
                    <div class="tip-title">🎯 Pro İpuçları</div>
                    <p><strong>Factory Pattern:</strong> MateriaSource aslında bir factory<br>
                    <strong>RAII:</strong> Resource Acquisition Is Initialization<br>
                    <strong>Interface Segregation:</strong> Her interface tek sorumluluğa sahip<br>
                    <strong>Polymorphism:</strong> Base pointer'larla derived class metotlarını çağır</p>
                </div>
            </div>
        </div>

        <!-- Checklist Section -->
        <div id="checklist" class="card">
            <div class="card-title">✅ Kontrol Listesi</div>
            
            <div class="checklist">
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>AMateria abstract class dengan pure virtual clone()</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Ice ve Cure concrete classes implement edildi</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>ICharacter interface pure virtual functions ile</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Character class 4-slot inventory ile</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Deep copy constructor ve assignment operator</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>unequip() materia'yı delete etmiyor</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>IMateriaSource interface implemented</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>MateriaSource factory pattern çalışıyor</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Memory leak'ler kontrol edildi (Valgrind)</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Subject test case doğru output veriyor</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Edge cases test edildi</div>
                </div>
                <div class="checklist-item">
                    <div class="checkbox" onclick="toggleCheck(this)">?</div>
                    <div>Orthodox Canonical Form uygulandı</div>
                </div>
            </div>
        </div>

        <!-- Final Tips -->
        <div class="card">
            <div class="card-title">🎯 Final İpuçları</div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="tip">
                    <div class="tip-title">🧠 Memory Management</div>
                    <p>• Her new için bir delete<br>
                    • unequip() özel durum<br>
                    • Deep copy için clone() kullan<br>
                    • Virtual destructor şart!</p>
                </div>
                
                <div class="tip">
                    <div class="tip-title">🏗️ Design Patterns</div>
                    <p>• Factory Pattern (MateriaSource)<br>
                    • Interface Segregation<br>
                    • Polymorphism & Virtual Functions<br>
                    • RAII (Resource management)</p>
                </div>
                
                <div class="tip">
                    <div class="tip-title">🧪 Testing Strategy</div>
                    <p>• Subject test case'i çalıştır<br>
                    • Edge cases test et<br>
                    • Valgrind ile memory check<br>
                    • Deep copy doğruluğunu kontrol et</p>
                </div>
            </div>
        </div>

        <!-- Compilation -->
        <div class="card">
            <div class="card-title">🛠️ Makefile</div>
            <div class="code-block">
NAME = materia_test

SRCS = main.cpp AMateria.cpp Ice.cpp Cure.cpp Character.cpp MateriaSource.cpp

OBJS = $(SRCS:.cpp=.o)

CXX = c++
CXXFLAGS = -Wall -Wextra -Werror -std=c++98

all: $(NAME)

$(NAME): $(OBJS)
	$(CXX) $(CXXFLAGS) -o $(NAME) $(OBJS)

clean:
	rm -f $(OBJS)

fclean: clean
	rm -f $(NAME)

re: fclean all

.PHONY: all clean fclean re</div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; padding: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; color: white; margin-top: 30px;">
            <h2>🎉 Tebrikler!</h2>
            <p style="font-size: 1.2em; margin: 20px 0;">C++ Module 04 Exercise 03'ü başarıyla tamamladın!</p>
            <p>Interface'ler, Factory Pattern ve Advanced Memory Management konularında ustalaştın! 🚀</p>
        </div>
    </div>

    <script>
        function toggleCheck(checkbox) {
            checkbox.classList.toggle('checked');
            if (checkbox.classList.contains('checked')) {
                checkbox.textContent = '✓';
            } else {
                checkbox.textContent = '?';
            }
            updateProgress();
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('.checkbox');
            const checkedBoxes = document.querySelectorAll('.checkbox.checked');
            const progress = (checkedBoxes.length / checkboxes.length) * 100;
            
            document.getElementById('progress').style.width = progress + '%';
            document.getElementById('progress-text').textContent = Math.round(progress) + '% Tamamlandı';
        }

        function runDemo(type) {
            const outputs = {
                'basic': '* shoots an ice bolt at bob *\n* heals bob\'s wounds *',
                'memory': 'Deep copy test: ✓ Passed\nMemory management: ✓ No leaks',
                'edge': 'NULL handling: ✓ Safe\nFull inventory: ✓ Handled\nInvalid indices: ✓ Protected'
            };
            
            alert('Demo Output for ' + type + ':\n\n' + outputs[type]);
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize progress
        updateProgress();
    </script>
</body>
</html>